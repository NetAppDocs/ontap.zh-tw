---
sidebar: sidebar 
permalink: upgrade/task_upgrade_andu_sm.html 
keywords: system manager, netapp, ontap, upgrade, nondisruptive, nondisruptive upgrade, upgrade a cluster, configuration, software image, update, update ONTAP, update software, ndu, resuming, resume, after, error, andu, automated, process 
summary: 使用System Manager、您可以在不中斷營運的情況下更新ONTAP 叢集上的版本。 
---
= 使用System Manager自動進行不中斷更新
:toc: macro
:hardbreaks:
:toclevels: 1
:allow-uri-read: 
:toc: 
:toclevels: 1
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/
:toc-position: content


[role="lead"]
您可以ONTAP 使用System Manager、在不中斷營運的情況下更新叢集上的版本。

更新程序會檢查您的硬體平台和組態、確認ONTAP 您要升級的版本支援您的系統。在叢集之間進行升級時、系統會自動切換工作負載、以便您繼續提供資料。ONTAP

此程序會將您的系統更新至指定版本ONTAP 的更新。假設目標版本支援您的硬體平台和組態。

從ONTAP 功能更新9.10.1開始、如果叢集有8個以上的節點、您可以選擇一次更新一個HA配對。這可讓您在移至後續配對之前、視需要修正第一組HA配對的升級問題。

image:workflow_admin_upgrade_ontap.gif["升級工作的工作流程圖"]


NOTE: 如果在自動升級期間遇到問題、您可以在System Manager中檢視EMS訊息和詳細資料：按一下*事件與工作*>*事件*。

.步驟
. 如果您想要將軟體映像下載到網路上的HTTP或FTP伺服器、請將軟體映像從NetApp支援網站複製到將要提供映像的HTTP或FTP伺服器上的目錄。
+
如果您要將軟體映像下載到本機資料夾、請按一下NetApp支援網站上的軟體映像、選取*「另存新檔」*、然後選擇本機資料夾來放置映像。

. 視您執行的版本而定ONTAP 、請執行下列其中一個步驟：
+
|===


| 版本ONTAP | 步驟 


| 部分9.8或更新版本ONTAP  a| 
按一下*叢集>總覽*。



| S69.5、9.6及9.7 ONTAP  a| 
按一下*組態*>*叢集*>*更新*。



| 更新版本ONTAP  a| 
按一下「*組態*>*叢集更新*」。

|===
. 在「總覽」窗格的右角、按一下 image:icon_kabob.gif["功能表圖示"]。
. 按一下* ONTAP 《更新*》。
. 在叢集更新索引標籤中、新增映像或選取可用映像。
+
|===


| 如果您想要... | 然後... 


 a| 
從本機用戶端新增軟體映像

*注意：*您應該已經將映像下載到本機用戶端。

link:task_download_and_install_ontap_software_image.html["下載並安裝ONTAP 更新版的軟體影像"]
 a| 
.. 在「Available Software Images（可用軟體映像）」下、按一下「* Add from local*（
.. 瀏覽至儲存軟體映像的位置、選取映像、然後按一下*「Open*（開啟*）」。
+
按一下*「Open*（開啟*）」之後、軟體映像就會上傳。





 a| 
從NetApp支援網站新增軟體映像
 a| 
.. 按一下「*從伺服器新增*」。
.. 在「新增軟體映像」對話方塊中、輸入您儲存從NetApp支援網站下載之映像的HTTP伺服器或FTP伺服器URL。
+
對於匿名FTP、您必須在中指定URL ftp://anonymous@ftpserver[] 格式。

.. 按一下「 * 新增 * 」。




 a| 
選取可用的映像
 a| 
選擇所列的其中一個影像。

|===
. 按一下「*驗證*」執行更新前驗證檢查、以驗證叢集是否已準備好進行更新。
+
驗證作業會檢查叢集元件、以驗證更新是否可在不中斷營運的情況下完成、然後顯示任何錯誤或警告。它也會顯示您在更新軟體之前必須執行的任何必要補救行動。

+

IMPORTANT: 在繼續更新之前、您必須針對錯誤執行所有必要的補救行動。雖然您可以忽略警告的補救行動、但最佳做法是在繼續更新之前、先執行所有的補救行動。

. 單擊 * 下一步 * 。
. 按一下 * 更新 * 。
+
再次執行驗證。

+
** 驗證完成後、表格會顯示任何錯誤和警告、以及任何必要的補救行動、然後再繼續進行。
** 如果驗證完成時出現警告、您可以選擇*「更新時顯示警告*」。
+

NOTE: 如果您偏好讓節點一次更新一個HA配對、而非叢集中所有HA配對的批次更新、請選取*一次更新一個HA配對*。此選項僅適用於ONTAP 包含八個或更多節點的叢集。





驗證完成且更新正在進行時、更新可能因為錯誤而暫停。您可以按一下錯誤訊息來檢視詳細資料、然後在繼續更新之前執行補救行動。

更新成功完成後、節點會重新開機、並重新導向至System Manager登入頁面。如果節點重新開機需要很長時間、您必須重新整理瀏覽器。



== 在自動升級程序發生錯誤後、繼續升級（使用System Manager）

[role="lead"]
如果因為錯誤而導致自動升級暫停、您可以解決錯誤並恢復自動升級、也可以取消自動升級並手動完成程序。如果您選擇繼續自動升級、請勿手動執行任何升級步驟。

. 視您執行的版本而定ONTAP 、請執行下列其中一個步驟：
+
** S適用於9.8或更新版本：按一下*叢集*>*總覽* ONTAP
** ？？《》（英文）《》（英文）》（英文）：《*組態*》（英文）>《*叢集*》（英文）>《*更新*》。ONTAP
** 《》（英文）9.4或更早版本：按一下「*組態*」>「*叢集更新*」ONTAP 。
+
然後在「總覽」窗格的右角、按一下三個藍色的垂直點、以及* ONTAP 《更新*》。



. 繼續自動更新或取消更新、然後手動繼續。
+
|===


| 如果您想要... | 然後... 


 a| 
繼續自動更新
 a| 
按一下*恢復*。



 a| 
取消自動更新並手動繼續
 a| 
按一下*取消*。

|===




== 影片：輕鬆升級

請參閱ONTAP 《System Manager》ONTAP 中的簡化版《系統管理程式》（NetApp）。

video::xwwX8vrrmIk[youtube, width=848,height=480]