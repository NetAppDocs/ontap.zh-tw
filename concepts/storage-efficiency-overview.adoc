---
permalink: concepts/storage-efficiency-overview.html 
sidebar: sidebar 
keywords: storage efficiency, storage efficiencies, storage efficiency technologies, space utilization, space savings, optimizing, space optimization, minimizing, wasted space, reducing, footprint, thin provisioning, deduplication, zero block, zero-block, inline, deduplication, background deduplication, postprocessing, post-processing, compression, compaction, flex-clone technologies 
summary: 儲存效率是透過最佳化儲存資源，將浪費的空間減至最低，以及減少寫入資料的實體佔用空間，來衡量儲存系統使用可用空間的效率。 
---
= ONTAP 儲存效率總覽
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
儲存效率是透過最佳化儲存資源，將浪費的空間減至最低，以及減少寫入資料的實體佔用空間，來衡量儲存系統使用可用空間的效率。更高的儲存效率可讓您以最低的成本、在最小的空間內儲存最大數量的資料。例如、利用儲存效率技術來偵測及消除重複的資料區塊、以及填滿零的資料區塊、可減少您所需的實體儲存設備總容量、並降低整體成本。

ONTAP 提供各式各樣的儲存效率技術、可減少資料所消耗的實體硬體或雲端儲存容量、並大幅提升系統效能、包括更快讀取資料、更快複本資料集、以及更快的 VM 資源配置。

.ONTAP 儲存效率技術包括：
* *精簡配置*
+
xref:thin-provisioning-concept.html[資源隨需配置] 可讓您視需要在磁碟區或 LUN 中分配儲存設備、而非事先保留。  如此可讓您根據潛在使用量過度分配磁碟區或 LUN 、而無需保留目前未使用的空間、進而減少所需的實體儲存容量。

* *重複資料刪除*
+
xref:deduplication-concept.html[重複資料刪除] 以三種不同方式減少磁碟區所需的實體儲存容量。

+
** * 零區塊重複資料刪除 *
+
零區塊重複資料刪除功能可偵測並消除填滿全部零的資料區塊、而且只會更新中繼資料。然後會儲存零區塊通常使用的 100% 空間。  在所有已進行重複資料刪除的磁碟區上、預設會啟用零區塊重複資料刪除。

** * 內嵌重複資料刪除 *
+
內嵌重複資料刪除功能會偵測重複資料區塊、並在資料寫入磁碟之前、以唯一的共用區塊參照來取代這些區塊。內嵌重複資料刪除技術可將 VM 資源配置加快 20% 至 30% 。  視您的 ONTAP 版本和平台而定、可在 Volume 或 Aggregate 層級使用即時重複資料刪除技術。  AFF 和 ASA 系統預設會啟用此功能。您需要在 FAS 系統上手動啟用內嵌重複資料刪除功能。

** * 背景重複資料刪除 *
+
背景重複資料刪除功能也會偵測重複資料區塊、並以唯一的共用區塊參照來取代它們、但在資料寫入磁碟後、會進一步提升儲存效率。  您可以設定背景重複資料刪除功能、以便在儲存系統符合特定條件時執行。例如、您可以啟用背景重複資料刪除功能、以便在磁碟區達到 10% 使用率時執行。  您也可以手動觸發背景重複資料刪除、或將其設定為在特定排程上執行。AFF 和 ASA 系統預設會啟用此功能。您需要在 FAS 系統上手動啟用背景重複資料刪除功能。



+
在磁碟區內及在集合體內的磁碟區之間支援重複資料刪除技術。  讀取已刪除重複資料通常不會收取效能費用。

* *壓縮*
+
xref:compression-concept.html[壓縮] 將資料區塊合併在壓縮群組中、每個資料區塊都儲存為單一區塊、藉此減少磁碟區所需的實體儲存容量。收到讀取或覆寫要求時、只會讀取一小群區塊、而非整個檔案。此程序可最佳化讀取和覆寫效能、並在壓縮檔案的大小上提供更大的擴充性。

+
壓縮可以在線上或後處理中執行。即時壓縮可在資料寫入磁碟之前、先壓縮記憶體中的資料、立即節省空間。後處理壓縮會先將區塊以未壓縮的方式寫入磁碟、然後在排程時間壓縮資料。在 AFF 系統上、預設會啟用此功能。您需要在所有其他系統上手動啟用壓縮。

* * Compaction *
+
資料壓縮可將儲存在 4 KB 區塊中但大小小於 4 KB 的資料區塊結合成單一區塊、藉此減少磁碟區所需的實體儲存容量。資料仍在記憶體中時、就會進行壓縮、因此不會在磁碟上消耗不必要的空間。  AFF 和 ASA 系統預設會啟用此功能。您需要手動啟用 FAS 系統上的壓縮功能。

* * FlexClone 磁碟區、檔案和 LUN*
+
xref:flexclone-volumes-files-luns-concept.html[FlexClone 技術]利用快照中繼資料來建立磁碟區，檔案或 LUN 的可寫入時間點複本。複本會與父資料區塊共用資料區塊、除非將變更寫入複本或其父資料、否則不會使用任何儲存區。寫入變更時、只會儲存差異。

+
傳統的資料集複本可能需要幾分鐘甚至數小時的時間才能建立、 FlexClone 技術甚至能讓您即時複製最大的資料集。

* * 對溫度敏感的儲存效率 *
+
ONTAP 可評估磁碟區資料的存取頻率、並將該頻率對應至套用至該資料的壓縮程度、進而提供 link:../volumes/enable-temperature-sensitive-efficiency-concept.html["對溫度敏感的儲存效率"] 更多效益。對於不常存取的冷資料、會壓縮較大的資料區塊。對於經常存取且更常被覆寫的熱資料、會壓縮較小的資料區塊、使程序更有效率。

+
ONTAP 9.8 引進的溫度敏感儲存效率（ TSSE ）、會在新建立的精簡配置 AFF 磁碟區上自動啟用。ONTAP 9.15.1 使用硬體卸載處理器，但未在上啟用link:builtin-storage-efficiency-concept.html["AFF A70 、 AFF A90 和 AFF A1K 平台"]。

* * CPU 或專用卸載處理器儲存效率 *
+
從 ONTAP 9 ． 15.1 開始、 ONTAP 可在 AFF A70 、 AFF A90 、 AFF A1K 、 FAS70 和 FAS90 平台上提供link:builtin-storage-efficiency-concept.html["CPU 或專用卸載處理器儲存效率"]和資料壓縮功能。在 AFF A70 、 AFF A90 和 AFF A1K 系統上、儲存效率會自動啟用、無需組態。



您可以在日常作業中、以最少的心力實現這些技術的效益。  例如、假設您需要為 5,000 位使用者提供主目錄的儲存空間、而且您估計任何使用者所需的最大空間都是 1 GB 。您可以預先預留 5 TB 的總容量、以滿足總的潛在儲存需求。  不過、您也知道主目錄容量需求在整個組織中有很大差異。  您可以建立 2 TB 的 Aggregate 、而不是為組織保留 5 TB 的總空間。  然後、您可以使用精簡配置、將 1 GB 的儲存設備指派給每位使用者、但只能視需要分配儲存設備。  您可以在一段時間內主動監控集合、並視需要增加實際實體大小。

在另一個範例中、假設您使用的是虛擬桌面基礎架構（ VDI ）、而且虛擬桌面之間有大量的重複資料。重複資料刪除技術可自動消除 VDI 中重複的資訊區塊、並以指向原始區塊的指標取代資料區塊、進而減少儲存使用量。其他 ONTAP 儲存效率技術（例如壓縮）也可以在背景執行、無需您介入。

ONTAP 磁碟分割技術也能提供更高的儲存效率。  RAID DP 技術可防止雙磁碟故障、而不會犧牲效能或增加磁碟鏡射成本。採用 ONTAP 9 的進階 SSD 分割功能可將可用容量增加將近 20% 。

NetApp 提供與雲端內部部署 ONTAP 相同的儲存效率功能。當您將資料從內部部署 ONTAP 移轉至雲端時、現有的儲存效率會保留下來。例如、假設您有一個 SQL 資料庫、其中包含您想要從內部部署系統移至雲端的業務關鍵資料。您可以在 BlueXP  中使用資料複寫功能來移轉資料，而且在移轉程序中，您可以針對雲端中的快照啟用最新的內部部署原則。
