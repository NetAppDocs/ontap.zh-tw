---
permalink: s3-config/ontap-s3-supported-actions-reference.html 
sidebar: sidebar 
keywords: ontap s3, supported, actions 
summary: 支援的動作。ONTAP 
---
= 支援的動作ONTAP
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
除以下所示者外、支援標準S3 REST API的S3動作。ONTAP如需詳細資訊、請參閱 link:https://docs.aws.amazon.com/AmazonS3/latest/API/Type_API_Reference.html["Amazon S3 API參考"^]。


NOTE: 在 ONTAP 中使用原生 S3 儲存區時，特別支援這些 S3 動作。使用時不支援這些動作，例如與版本設定，物件鎖定及其他功能相關的動作link:../s3-multiprotocol/index.html["S3 NAS 磁碟區（多重傳輸協定 NAS 磁碟區中的 S3 ）"]。

除非針對特定操作另有說明，否則從ONTAP 9.8 開始支援以下常見請求標頭：

* `Authorization`
* `Connection`
* `Content-Length`
* `Content-MD5`
* `Content-Type`
* `Date`
* `Expect`
* `Host`
* `x-amz-date`




== 鏟斗作業

使用 AWS S3 API 的 ONTAP 支援下列作業：

|===
| 鏟斗作業 | 支援從開始ONTAP 


 a| 
建立庫位

ONTAP S3 支援此要求的所有常用參數和標頭，以及以下附加標頭：

* `x-amz-bucket-object-lock-enabled`

| 零點9.11.1. ONTAP 


 a| 
刪除Bucket

ONTAP S3 支援此請求的所有常用參數和標頭。
| 零點9.11.1. ONTAP 


| DeleteBucketCors ONTAP S3 支援此要求的所有常用參數和標頭。 | 部分9.8 ONTAP 


| DeleteBucketLifecycle ONTAP S3 支援此要求的所有常用參數和標頭。 | 部分9.8 ONTAP 


 a| 
刪除BucketPolicy

ONTAP S3 支援此請求的所有常用參數和標頭。
| ONTAP 9.12.1 


| GetBucketAcl ONTAP S3 支援此要求的所有常用參數和標頭。 | 部分9.8 ONTAP 


| GetBucketCors ONTAP S3 支援此要求的所有常用參數和標頭。 | 部分9.8 ONTAP 


 a| 
GetBucketLifecycleConfiguration

ONTAP S3 支援此請求的所有常用參數和標頭。
 a| 
ONTAP 9.13.1.12.9.11.9.11.

*僅支援到期操作



| GetBucketLocation ONTAP S3 支援此要求的所有常用參數和標頭。 | 零點9.10.1 ONTAP 


| GetBucketPolicy ONTAP S3 支援此要求的所有常用參數和標頭。 | ONTAP 9.12.1 


| GetBucketVersioning ONTAP S3 支援此要求的所有常用參數和標頭。 | 零點9.11.1. ONTAP 


| HeadBucket ONTAP S3 支援此要求的所有常見參數和標頭。 | 部分9.8 ONTAP 


| ListAllMyBuckets ONTAP S3 支援此請求的所有常用參數和標頭。 | 部分9.8 ONTAP 


| ListBuckets ONTAP S3 支援此請求的所有常用參數和標頭。 | 部分9.8 ONTAP 


| ListBucketVersions ONTAP S3 支援此要求的所有常用參數和標頭。 | 零點9.11.1. ONTAP 


| 推桿  a| 
* 零點9.11.1. ONTAP
* ONTAP 9.8 - 僅支援 ONTAP REST API




| PutBucketCors ONTAP S3 支援此請求的所有常用參數和標頭。  a| 
部分9.8 ONTAP



| PutBucketLifecycleConfiguration ONTAP S3 支援此要求的所有常用參數和標頭。 | ONTAP 9.13.1 * 僅支援過期操作 


| PutBucketPolicy ONTAP S3 支援此請求的所有常用參數和標頭。 | ONTAP 9.12.1 


| PutBucketVersioning ONTAP S3 支援此請求的所有常用參數和標頭。 | 零點9.11.1. ONTAP 
|===


== 物件作業

從支援物件中繼資料和標記的ONTAP 支援範圍起、ONTAP 從S9.9開始。

* PutObject 和 CreateMultpartUpload 包含使用的金鑰值配對 `x-amz-meta-<key>.`
+
例如： `x-amz-meta-project: ontap_s3`。

* GetObject 和 HeadObject 會傳回使用者定義的中繼資料。
* 不同於中繼資料、標記可以使用下列方式獨立讀取物件：
+
** PuttObjectTagging
** GetObjectTagging
** 刪除ObjectTagging




從推出支援物件版本管理和相關動作的《S21：ONTAP ONTAP ONTAP

* GetBucketVersion
* listBucketVerions
* PuttBucketVersion


除非針對特定操作另有說明，否則支援以下 URI 查詢參數：

* `versionId`（根據ONTAP 9.12.1 開始的物件操作要求）


|===
| 物件作業 | 支援從開始ONTAP 


 a| 
AbortMultiPart上 傳

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加 URI 查詢參數：
`uploadId`
 a| 
部分9.8 ONTAP



 a| 
完成多個部分上傳

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加 URI 查詢參數：
`uploadId`
 a| 
部分9.8 ONTAP



 a| 
CopyObject

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加標頭：

* `x-amz-copy-source`
* `x-amz-copy-source-if-match`
* `x-amz-copy-source-if-modified-since`
* `x-amz-copy-source-if-none-match`
* `x-amz-copy-source-if-unmodified-since`
* `x-amz-metadata-directive`
* `x-amz-object-lock-mode`
* `x-amz-object-lock-retain-until-date`
* `x-amz-tagging`
* `x-amz-tagging-directive`
* `x-amz-meta-<metadata-name>`

| ONTAP 9.12.1 


 a| 
建立多個部分上傳

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加標頭：

* `Cache-Control`
* `Content-Disposition`
* `Content-Encoding`
* `Content-Language`
* `Expires`
* `x-amz-tagging`
* `x-amz-object-lock-mode`
* `x-amz-object-lock-retain-until-date`
* `x-amz-meta-<metadata-name>`

| 部分9.8 ONTAP 


 a| 
刪除物件

ONTAP S3 支援此要求的所有常用參數和標頭，以及以下附加標頭：

* `x-amz-bypass-governance-retention`

| 部分9.8 ONTAP 


| DeleteObjects ONTAP S3 支援此要求的所有常用參數和標頭，以及以下附加標頭：* `x-amz-bypass-governance-retention` | 零點9.11.1. ONTAP 


 a| 
刪除ObjectTagging

ONTAP S3 支援此請求的所有常用參數和標頭。
| 部分9.9.1 ONTAP 


 a| 
GetObject

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加 URI 查詢參數：

* `partNumber`
* `response-cache-control`
* `response-content-disposition`
* `response-content-encoding`
* `response-content-language`
* `response-content-type`
* `response-expires`


還有這個附加的請求標頭：

* 範圍

| 部分9.8 ONTAP 


| GetObjectAcl ONTAP S3 支援此請求的所有常用參數和標頭。 | 部分9.8 ONTAP 


 a| 
取得物件屬性

ONTAP S3 支援此要求的所有常用參數和標頭，以及以下附加標頭：

* `x-amz-object-attributes`

| ONTAP 9.17.1 


| GetObjectRetention ONTAP S3 支援此請求的所有常用參數和標頭。 | ONTAP 9.14.1. 


| GetObjectTagging ONTAP S3 支援此要求的所有常用參數和標頭。 | 部分9.9.1 ONTAP 


| HeadObject ONTAP S3 支援此請求的所有常用參數和標頭。 | 部分9.8 ONTAP 


 a| 
清單多個部分上傳

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加 URI 參數：

* `delimiter`
* `key-marker`
* `max-uploads`
* `prefix`
* `upload-id-marker`

| 部分9.8 ONTAP 


 a| 
清單物件

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加 URI 參數：

* `delimiter`
* `encoding-type`
* `marker`
* `max-keys`
* `prefix`

| 部分9.8 ONTAP 


 a| 
清單對象V2.

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加 URI 參數：

* `continuation-token`
* `delimiter`
* `encoding-type`
* `fetch-owner`
* `max-keys`
* `prefix`
* `start-after`

| 部分9.8 ONTAP 


 a| 
ListObjectVerions

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加 URI 參數：

* `delimiter`
* `encoding-type`
* `key-marker`
* `max-keys`
* `prefix`
* `version-id-marker`

| 零點9.11.1. ONTAP 


 a| 
清單零件

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加 URI 參數：

* `max-parts`
* `part-number-marker`
* `uploadId`

| 部分9.8 ONTAP 


 a| 
PuttObject

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加標頭：

* `Cache-Control`
* `Content-Disposition`
* `Content-Encoding`
* `Content-Language`
* `Expires`
* `x-amz-tagging`
* `x-amz-object-lock-mode`
* `x-amz-object-lock-retain-until-date`
* `x-amz-meta-<metadata-name>`

| 部分9.8 ONTAP 


| PutObjectLockConfiguration ONTAP S3 支援此請求的所有常用參數和標頭。 | ONTAP 9.14.1. 


 a| 
PutObjectRetention

ONTAP S3 支援此要求的所有常用參數和標頭，以及以下附加標頭：

* `x-amz-bypass-governance-retention`

| ONTAP 9.14.1. 


| PutObjectTagging ONTAP S3 支援此請求的所有常用參數和標頭。 | 部分9.9.1 ONTAP 


| 上傳零件 | 部分9.8 ONTAP 


 a| 
上傳PartCopy

ONTAP S3 支援此請求的所有常用參數和標頭，以及以下附加 URI 參數：

* `partNumber`
* `uploadId`


以及這些額外的請求標頭：

* `x-amz-copy-source`
* `x-amz-copy-source-if-match`
* `x-amz-copy-source-if-modified-since`
* `x-amz-copy-source-if-none-match`
* `x-amz-copy-source-if-unmodified-since`
* `x-amz-copy-source-range`

| ONTAP 9.12.1 
|===


== 群組原則

這些作業並非S3專屬作業、通常與身分識別與管理（IAM）程序相關。支援這些命令、但不使用IAM REST API。ONTAP

* 建立原則
* Attach群組原則




== 使用者管理

這些作業並非S3專屬作業、通常與IAM程序相關。

* 建立使用者
* 刪除使用者
* 建立群組
* 刪除群組




== S3 依版本採取的行動

.ONTAP 9.14.1.
ONTAP 9 。 14.1 新增 S3 物件鎖定支援。


NOTE: 不支援合法保留作業（鎖定時未定義保留時間）。

* GetObjectLockConfiguration
* GetObjectRetention
* PutObjectLockConfiguration
* PutObjectRetention


.ONTAP 9.13.1.12.9.11.9.11.
ONTAP 9 。 13.1 新增貯體生命週期管理支援。

* 刪除 BucketLifecycleConfiguration
* GetBucketLifecycleConfiguration
* PuttBucketLifecycleConfiguration


.ONTAP 9.12.1
ONTAP 9 。 12.1 新增貯體原則的支援、以及複製物件的能力。

* 刪除BucketPolicy
* GetBucketPolicy
* PuttBucketPolicy
* CopyObject
* 上傳PartCopy


.零點9.11.1. ONTAP
ONTAP 9 。 11.1 新增版本管理，預先簽署的 URL ，區塊上傳的支援，以及一般 S3 行動的支援，例如使用 S3 API 建立和刪除區段。

* ONTAP S3 現在支援使用以下方式對分塊上傳簽名請求進行支持 `x-amz-content-sha256:
STREAMING-AWS4-HMAC-SHA256-PAYLOAD`
* ONTAP S3 現在支援使用預先簽署的 URL 來共用物件的用戶端應用程式、或允許其他使用者在不需要使用者認證的情況下上傳物件。
* 建立庫位
* 刪除Bucket
* GetBucketVersion
* listBucketVerions
* 推桿
* PuttBucketVersion
* 刪除物件
* ListObjectVerions



NOTE: 由於基礎 FlexGroup 在第一個儲存區建立之前不會建立、因此必須先在 ONTAP 中建立儲存區、外部用戶端才能使用 CreateBucket 建立儲存區。

.零點9.10.1 ONTAP
ONTAP 9 。 10.1 新增對 SnapMirror S3 和 GetBucketLocation 的支援。

* GetBucketLocation


.部分9.9.1 ONTAP
ONTAP 9 9.1 為 ONTAP S3 新增物件中繼資料和標記支援。

* PuttObject 和 CreateMultpartUpload 現在包括使用的金鑰值配對 `x-amz-meta-<key>`。例如 `x-amz-meta-project: ontap_s3`：。
* GetObject 和 HeadObject 現在會傳回使用者定義的中繼資料。


標籤也可搭配貯體使用。不同於中繼資料、標記可以使用下列方式獨立讀取物件：

* PuttObjectTagging
* GetObjectTagging
* 刪除ObjectTagging

